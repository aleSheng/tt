# TagTime CLI æµ‹è¯•æ¡ˆä¾‹æ–‡æ¡£

æœ¬æ–‡æ¡£è®°å½• TagTime CLI (`tt`) çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œç”¨äºéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§ã€‚

## æµ‹è¯•ç¯å¢ƒ

- **æµ‹è¯•æ—¶é—´**: 2026-01-20
- **CLI ç‰ˆæœ¬**: 0.1.0
- **æµ‹è¯•å¹³å°**: macOS (Apple Silicon)
- **API æœåŠ¡**: http://localhost:3000

## æµ‹è¯•æ¡ˆä¾‹

### 1. è®¤è¯æµ‹è¯•

#### TC-1.1 æŸ¥çœ‹ç™»å½•çŠ¶æ€ (`tt whoami`)

**å‘½ä»¤:**
```bash
tt whoami
```

**é¢„æœŸè¾“å‡º:**
```
âœ“ Logged in as: <email>
â„¹ Name: <name>
â„¹ User ID: <user_id>
â„¹ API Base URL: <base_url>
```

**å®é™…ç»“æœ:** âœ… é€šè¿‡

---

#### TC-1.2 æœªç™»å½•æ—¶æ“ä½œ

**å‰ç½®æ¡ä»¶:** é€€å‡ºç™»å½•æˆ–ä½¿ç”¨æ–°é…ç½®

**å‘½ä»¤:**
```bash
tt save "test"
```

**é¢„æœŸè¾“å‡º:**
```
âœ– Not logged in. Use: tt login --token <your-api-key>
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-1.3 Device Flow ç™»å½•

**å‘½ä»¤:**
```bash
tt login --base-url http://localhost:3000
```

**é¢„æœŸè¡Œä¸º:**
1. æ˜¾ç¤º User Code (æ ¼å¼: XXXX-XXXX)
2. è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨åˆ°éªŒè¯é¡µé¢
3. ç”¨æˆ·æˆæƒåæ˜¾ç¤ºç™»å½•æˆåŠŸ

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-1.4 Token ç›´æ¥ç™»å½•

**å‘½ä»¤:**
```bash
tt login --token yzb_xxx --base-url http://localhost:3000
```

**é¢„æœŸè¾“å‡º:**
```
âœ“ Logged in as <email>
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

### 2. ä¿å­˜åŠŸèƒ½æµ‹è¯•

#### TC-2.1 ä¿å­˜æ–‡æœ¬å†…å®¹

**å‘½ä»¤:**
```bash
tt save "This is a test note"
```

**é¢„æœŸè¾“å‡º:**
```
âœ“ Saved! ID: <uuid>
  View at: https://tagtime.ai/library/<uuid>
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-2.2 ä¿å­˜å¸¦æ ‡é¢˜å’Œæ ‡ç­¾

**å‘½ä»¤:**
```bash
tt save "Content here" --title "My Note Title" --tags "tag1,tag2,tag3"
```

**é¢„æœŸè¡Œä¸º:**
- ä¿å­˜æˆåŠŸ
- æ ‡é¢˜æ˜¾ç¤ºä¸º "My Note Title"
- è‡ªåŠ¨åˆ›å»ºå¹¶å…³è”æ ‡ç­¾

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-2.3 ä¿å­˜æ–‡ä»¶å†…å®¹

**å‘½ä»¤:**
```bash
tt save ./README.md
```

**é¢„æœŸè¡Œä¸º:**
- è¯»å–æ–‡ä»¶å†…å®¹
- ä½¿ç”¨æ–‡ä»¶åä½œä¸ºé»˜è®¤æ ‡é¢˜
- ä¿å­˜æˆåŠŸ

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-2.4 é€šè¿‡ stdin ç®¡é“ä¿å­˜

**å‘½ä»¤:**
```bash
echo "Piped content" | tt save --title "From Stdin"
```

**é¢„æœŸè¾“å‡º:**
```
âœ“ Saved! ID: <uuid>
  View at: https://tagtime.ai/library/<uuid>
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-2.5 ä¿å­˜ URL é“¾æ¥

**å‘½ä»¤:**
```bash
tt save "https://github.com/tagtime/tagtime"
```

**é¢„æœŸè¡Œä¸º:**
- è¯†åˆ«ä¸º link ç±»å‹
- ä¿å­˜æˆåŠŸ

**çŠ¶æ€:** âœ… é€šè¿‡

---

### 3. æœç´¢åŠŸèƒ½æµ‹è¯•

#### TC-3.1 åŸºæœ¬æœç´¢

**å‘½ä»¤:**
```bash
tt search "keyword"
```

**é¢„æœŸè¾“å‡º:**
```
Found N result(s):

@1 <Title>
   ID: <short_id>... | Type: <type>
   <snippet>...

Tip: Use 'tt get @1' to get the first result
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-3.2 é™åˆ¶æœç´¢ç»“æœæ•°é‡

**å‘½ä»¤:**
```bash
tt search "test" --limit 5
```

**é¢„æœŸè¡Œä¸º:** æœ€å¤šè¿”å› 5 æ¡ç»“æœ

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-3.3 JSON æ ¼å¼è¾“å‡º

**å‘½ä»¤:**
```bash
tt search "test" --json
```

**é¢„æœŸè¾“å‡º:**
```json
{
  "total": <number>,
  "items": [
    {
      "id": "<uuid>",
      "title": "<title>",
      "type": "<type>",
      "snippet": "<snippet>"
    }
  ],
  "hasMore": <boolean>
}
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-3.4 æ— ç»“æœæœç´¢

**å‘½ä»¤:**
```bash
tt search "xyznonexistent123"
```

**é¢„æœŸè¾“å‡º:**
```
â„¹ No results found.
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

### 4. è·å–åŠŸèƒ½æµ‹è¯•

#### TC-4.1 é€šè¿‡å¼•ç”¨ç¼–å·è·å–

**å‰ç½®æ¡ä»¶:** å…ˆæ‰§è¡Œæœç´¢

**å‘½ä»¤:**
```bash
tt search "test"
tt get @1
```

**é¢„æœŸè¾“å‡º:**
```
ğŸ“„ <Title>
   ID: <uuid>
   Type: <type>
   URL: <url>

   <content>

   Created: <date>
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-4.2 é€šè¿‡çŸ­ ID è·å–

**å‘½ä»¤:**
```bash
tt get abc123de
```

**é¢„æœŸè¡Œä¸º:** åŒ¹é… ID å‰ç¼€å¹¶è¿”å›å®Œæ•´å†…å®¹

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-4.3 é€šè¿‡å®Œæ•´ ID è·å–

**å‘½ä»¤:**
```bash
tt get abc123de-f456-7890-abcd-ef1234567890
```

**é¢„æœŸè¡Œä¸º:** ç›´æ¥è·å–æŒ‡å®š ID çš„å†…å®¹

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-4.4 ä¿å­˜åˆ°æ–‡ä»¶

**å‘½ä»¤:**
```bash
tt get @1 --output ./output.md
```

**é¢„æœŸè¡Œä¸º:**
- è·å–å†…å®¹
- ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶
- æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-4.5 è·å–ä¸å­˜åœ¨çš„ ID

**å‘½ä»¤:**
```bash
tt get nonexistent-id
```

**é¢„æœŸè¾“å‡º:**
```
âœ– Material not found
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

### 5. æœ€è¿‘åˆ—è¡¨æµ‹è¯•

#### TC-5.1 åˆ—å‡ºæœ€è¿‘èµ„æ–™

**å‘½ä»¤:**
```bash
tt recent
```

**é¢„æœŸè¾“å‡º:** æ˜¾ç¤ºæœ€è¿‘æ·»åŠ çš„èµ„æ–™åˆ—è¡¨

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-5.2 é™åˆ¶æ•°é‡

**å‘½ä»¤:**
```bash
tt recent --limit 3
```

**é¢„æœŸè¡Œä¸º:** åªæ˜¾ç¤º 3 æ¡ç»“æœ

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-5.3 JSON è¾“å‡º

**å‘½ä»¤:**
```bash
tt recent --json
```

**é¢„æœŸè¾“å‡º:** JSON æ ¼å¼çš„åˆ—è¡¨æ•°æ®

**çŠ¶æ€:** âœ… é€šè¿‡

---

### 6. Agent é›†æˆæµ‹è¯•

#### TC-6.1 Skill æ–‡ä»¶å­˜åœ¨

**éªŒè¯:**
```bash
ls ~/.claude/skills/tagtime-cli/SKILL.md
ls ~/.copilot/skills/tagtime-cli/SKILL.md
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

#### TC-6.2 å®Œæ•´å·¥ä½œæµ

**åœºæ™¯:** æ¨¡æ‹Ÿ Agent ä½¿ç”¨æµç¨‹

```bash
# 1. éªŒè¯è®¤è¯
tt whoami

# 2. ä¿å­˜ç¬”è®°
tt save "Agent test note" --title "Agent Test" --tags "agent,test"

# 3. æœç´¢
tt search "agent" --limit 5

# 4. è·å–å†…å®¹
tt get @1
```

**çŠ¶æ€:** âœ… é€šè¿‡

---

## æµ‹è¯•ç»“æœæ±‡æ€»

| åˆ†ç±» | é€šè¿‡ | å¤±è´¥ | æ€»è®¡ |
|------|------|------|------|
| è®¤è¯æµ‹è¯• | 4 | 0 | 4 |
| ä¿å­˜åŠŸèƒ½ | 5 | 0 | 5 |
| æœç´¢åŠŸèƒ½ | 4 | 0 | 4 |
| è·å–åŠŸèƒ½ | 5 | 0 | 5 |
| æœ€è¿‘åˆ—è¡¨ | 3 | 0 | 3 |
| Agent é›†æˆ | 2 | 0 | 2 |
| **æ€»è®¡** | **23** | **0** | **23** |

## æ€§èƒ½åŸºå‡†

| æ“ä½œ | ç›®æ ‡å»¶è¿Ÿ | å®é™…å»¶è¿Ÿ | çŠ¶æ€ |
|------|---------|---------|------|
| ä¿å­˜æ–‡æœ¬ | < 500ms | ~200ms | âœ… |
| æœç´¢ | < 1s | ~150ms | âœ… |
| è·å–èµ„æ–™ | < 300ms | ~100ms | âœ… |

## å·²çŸ¥é—®é¢˜

æš‚æ— ã€‚

## ç‰ˆæœ¬å†å²

- **v0.1.0** (2026-01-20): åˆå§‹ç‰ˆæœ¬
  - åŸºæœ¬ CRUD åŠŸèƒ½
  - Device Flow ç™»å½•
  - Agent Skill æ”¯æŒ
  - ç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶æ‰“åŒ…
